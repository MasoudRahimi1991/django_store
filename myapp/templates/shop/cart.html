{% extends 'base.html' %}

{% block title %}Your Cart{% endblock %}

{% block content %}
<div class="container py-5">

 
  <div class="text-center mb-4">
    <h2 class="fw-bold text-primary">üõí Your Shopping Cart</h2>
    <p class="text-muted">Review your selected items before checkout.</p>
    <hr class="w-25 mx-auto">
  </div>

  {% if cart.items.all %}
 
  <div class="table-responsive shadow-sm rounded">
    <table class="table align-middle table-bordered border-light mb-4">
      <thead class="table-light text-center">
        <tr>
          <th>Product</th>
          <th>Quantity</th>
          <th>Total (‚Ç¨)</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for item in cart.items.all %}
        <tr>
          <td class="fw-semibold text-center">
            {{ item.product.name }}
          </td>

          <td class="text-center">
            <div class="d-flex justify-content-center align-items-center gap-2">
              <a href="{% url 'decrease_quantity' item.id %}" class="btn btn-outline-secondary btn-sm">‚ûñ</a>
              <span class="fw-bold">{{ item.quantity }}</span>
              <a href="{% url 'increase_quantity' item.id %}" class="btn btn-outline-secondary btn-sm">‚ûï</a>
            </div>
          </td>

          <td class="text-center fw-semibold text-success">
            {{ item.total_price }}
          </td>

          <td class="text-center">
            <a href="{% url 'remove_item' item.id %}" class="btn btn-outline-danger btn-sm">
              üóë Remove
            </a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  <!-- ŸÖÿ¨ŸÖŸàÿπ Ÿà ÿØ⁄©ŸÖŸá‚ÄåŸáÿß -->
  <div class="text-end mt-3">
    <h4 class="fw-bold text-dark">Total: <span class="text-success">‚Ç¨{{ cart.total_price }}</span></h4>

    <form method="post" action="{% url 'checkout' %}" class="mt-3">
      {% csrf_token %}
      <button type="submit" class="btn btn-gradient px-4 py-2 fw-semibold">
        üí≥ Proceed to Checkout
      </button>
    </form>
  </div>

  {% else %}
  <div class="text-center py-5">
    <p class="text-muted fs-5">Your cart is empty.</p>
    <a href="{% url 'home' %}" class="btn btn-outline-primary mt-3">
      ‚Üê Back to Shop
    </a>
  </div>
  {% endif %}
</div>

<!-- CSS -->
<style>
  .btn-gradient {
    background: linear-gradient(45deg, #007bff, #00c6ff);
    color: white;
    border: none;
    transition: all 0.3s ease;
  }

  .btn-gradient:hover {
    transform: scale(1.03);
    background: linear-gradient(45deg, #0069d9, #00a2ff);
  }

  .table {
    border-radius: 12px;
    overflow: hidden;
  }
</style>
{% endblock %}

